<template name="adminSettings">
	<div class="card">
		<div class="card-content">
			<span class="card-title">Settings</span>
			
			<h6>Free events limit</h6>		
		  	<form id="free">
				<input id="free" type="text" name="text" placeholder="Current limit: {{FreeLimit}}"/>
			</form>

			<h6>Payable events limit</h6>
			<form id="payable">
					<input id="payable" type="text" name="text" placeholder="Current limit: {{PayableLimit}}"/>
			</form>

			<h6>Free users to choose once again</h6>
			<a class="waves-effect waves-light btn" id="restartUsers">Restart users</a>
		</div>
	</div>
</template>


<template name="eventsDownload">
	<div class="card" id="authorize-div">
		<div class="card-content">
			<span class="card-title">Events reload</span>
		  	<p>If you wish to reload events downloaded from your calendar, please authorize access to Google Calendar API</p>
		  <!--Button for the user to click to initiate auth sequence -->
		</div>
		<div class="card-action">
		  <a class="waves-effect waves-light btn" id="authorize-button">
		    Authorize
		  </a>
		</div>
	</div>
</template>

<template name="days">
  <br />
  

	<!-- <div><div><li> -->
	<ul class="collapsible popout days">
	{{#each allEvents}}
		{{#if p start.dateTime }}
	    	<center><h4 class="" id="{{_id}}">{{dayFormat start.dateTime}}</h4></center>
	  	{{/if}}
		
		{{> oneEvent}}

	{{/each}}
	</ul>
	<br />
	<div class="container">
	       <!--<div class="row">-->
        <!--<div class="col s12 m6">-->
             <div class="card">
                  <div class="card-content">
                      <span class="card-title">Session restart</span>
          			  <p>In case of interrupted/reloaded session & weird messages, click this button to start fresh</p>
          		</div>
          		<div class="card-action">
          		  <a class="waves-effect waves-light btn" id="userClear-button">Clear choices & restart</a>
          		 </div>
          	</div>
            <br /><br />


          <div class="card blue-grey darken-1">
            <div class="card-content white-text">
              <span class="card-title">Make your decision</span>
              <p>Your decision is <strong>final</strong>, so there will be <strong>no coming back & no choice changing</strong>. Please make sure that you're totally fine with your choices.</p>
            </div>
            <div class="card-action">
              <a id="make-decision" class="waves-effect btn"><i class="material-icons left">done</i>Confirm choices <strong>forever</strong></a>
            </div>
          </div>
     </div>
 

</template>

<template name="oneEvent">
	<li>
	  <!--{{#if isEventFull}}-->
  		<div class="collapsible-header {{#if isEventChosen}}chosen{{/if}}"><i class="material-icons left">today</i>{{summary}} {{#if isInRole 'admin'}}<a> Registered: {{users.length}}</a>{{/if}}<span class="right">{{hourFormat start.dateTime}} - {{hourFormat end.dateTime}}</span></div>
  		<div class="collapsible-body container">
  			<br />
  			{{description}}
  			<br /><br />Event type: <strong>{{eventType}}</strong>
  			<br />
			<div class="valign-wrapper">
    			<a id="register" class="waves-effect btn valign">{{#if isEventChosen}}Unregister{{else}}Register{{/if}}</a>
			</div>
  			{{#if isInRole 'admin'}}
  				{{> adminEvent}}
  			{{/if}}
  		<!--{{/if}}-->
			
			<br />
			
			
			
  
			
  <!--<form action="#">-->
  <!--  <p>-->
  <!--    <input name="group1" type="radio" id="test1" />-->
  <!--    <label for="test1">Red</label>-->
  <!--  </p>-->
  <!--  <p>-->
  <!--    <input name="group1" type="radio" id="test2" />-->
  <!--    <label for="test2">Yellow</label>-->
  <!--  </p>-->
  <!--  <p>-->
  <!--    <input class="with-gap" name="group1" type="radio" id="test3"  />-->
  <!--    <label for="test3">Green</label>-->
  <!--  </p>-->
  <!--    <p>-->
  <!--      <input name="group1" type="radio" id="test4" disabled="disabled" />-->
  <!--      <label for="test4">Brown</label>-->
  <!--  </p>-->
  <!--</form>-->
		</div>
	</li>
</template>



<template name="adminEvent">
	<br />
	<form id="manually-add">
				<input id="manually-add" type="text" name="text" placeholder="User's ID"/>
	</form>

    <ul class="collection 	with-header">
        <li class="collection-header"><h5>Registered Users</h5></li>
	    {{#each registeredUsers}}
	      {{> user_event}}
	    {{/each}}
	</ul>
	<br />
  
    <h5>Update registration limit</h5>
	    <form id="limit">
				<input id="limit" type="text" name="text" placeholder="Current limit: {{this.limit}}"/>
		</form>
		
    <h5>Update event type</h5>
    <h6>Current type: {{this.eventType}}</h6>
    <a id="free" class="waves-effect waves-teal btn-flat">Free</a>
    
    <a id="payable" class="waves-effect waves-teal btn-flat">Payable</a>
    
    <a id="notLimited" class="waves-effect waves-teal btn-flat">Not Limited</a>
		<br />
		<br />
		<h5>Update information</h5>
		<!--<div class='input-field'>-->
			<form id="summary">
				<input id="summary" type="text" name="text" placeholder="Title of the event"  />
			</form>
			<form id="description">
				<input id="description" type="text" name="text" placeholder="Description of the event"  />
			</form>
		<!--</div>-->
		
		<br />
		<h5>Update date</h5>
			<br />
		<!--<div class='input-field'>-->
			<h6>Start date</h6>
			<form id="start-date">
				<input id="start-date" type="datetime-local" name="text"  />
				<input type="submit" style="visibility: hidden;"/>
			</form>
			
			<h6>End date</h6>
			<form id="end-date">
				<input id="end-date" type="datetime-local" name="text">
				<input type="submit" style="visibility: hidden;"/>
			</form>
		<!--</div>-->
		<!--<input type="submit" value="Add Player">-->
	<!--</form>-->
	<a id="event-remove" class="waves-effect btn"><i class="material-icons left">not_interested</i>Remove event</a>
    

		
</template>



<template name="afterDecision">
  <div class="center-align flow-text">
    <br />
    <h5>Thanks a lot!</h5>
    <p>
      See you at the super-turbo-awesome-amazing events!
      <br /><br />
      If you desperately need to change some events, please contact teodorw@kth.se
      <br /><br />
      May the Force be with you
    </p>
  </div>
  
  <div class="containter">
    <h4>Your events:</h4>
    <ul class="collapsible">
    {{#with currentUser}}
    {{#each chosenEvents}}
      {{#if p start.dateTime }}
	    	<center><h5 class="" id="{{_id}}">{{dayFormat start.dateTime}}</h5></center>
	  	{{/if}}
		
		{{> oneEvent}}

	{{/each}}
	{{/with}}
	</ul>
  </div>
</template>